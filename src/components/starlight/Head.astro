---
/**
 * Custom Starlight Head override.
 * Renders default Starlight head entries + Viewpo-specific additions
 * (Google Fonts, Plausible analytics, structured data).
 */
const { head } = Astro.locals.starlightRoute;
---

{/* Default Starlight head entries (meta, title, canonical, etc.) */}
{head.map(({ tag: Tag, attrs, content }) => <Tag {...attrs} set:html={content} />)}

{/* Google Fonts (same as BaseLayout) */}
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Outfit:wght@500;600;700&display=swap" />

{/* Plausible analytics (proxied, same as BaseLayout) */}
<script is:inline defer src="/js/script.js"></script>
<script is:inline>
  window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)};plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init({ endpoint: '/api/event/' });
</script>

{/* Organization structured data (same as BaseLayout) */}
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Viewpo",
  "url": "https://viewpo.io",
  "logo": "https://viewpo.io/logo.png",
  "description": "Preview deployment aggregator with viewport viewer for iOS, iPadOS, and macOS",
  "parentOrganization": {
    "@type": "Organization",
    "name": "Little Bear Apps",
    "url": "https://littlebearapps.com"
  },
  "knowsAbout": ["preview deployments", "viewport testing", "Cloudflare Pages", "Vercel", "Netlify", "responsive design"],
  "sameAs": ["https://github.com/littlebearapps"],
  "areaServed": "Worldwide"
})} />

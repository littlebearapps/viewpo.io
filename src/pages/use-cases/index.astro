---
import BaseLayout from '@layouts/BaseLayout.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';
import Badge from '@components/Badge.astro';
import { PERSONA_USE_CASES, SITUATION_USE_CASES } from '@/data/use-cases';

const title = 'Use Cases — Who Uses Viewpo & When | Viewpo';
const description = 'See how Viewpo fits your workflow. From remote developers to agency teams, from client feedback to iPad testing — preview any deploy at any resolution.';

const accentMap: Record<string, { text: string; iconBg: string; borderHover: string }> = {
  cyan:    { text: 'text-cyan-400',    iconBg: 'bg-cyan-400/10 dark:bg-cyan-400/[0.08]',    borderHover: 'group-hover:border-cyan-400/30 dark:group-hover:border-cyan-400/20' },
  violet:  { text: 'text-violet-400',  iconBg: 'bg-violet-400/10 dark:bg-violet-400/[0.08]',  borderHover: 'group-hover:border-violet-400/30 dark:group-hover:border-violet-400/20' },
  orange:  { text: 'text-orange-400',  iconBg: 'bg-orange-400/10 dark:bg-orange-400/[0.08]',  borderHover: 'group-hover:border-orange-400/30 dark:group-hover:border-orange-400/20' },
  teal:    { text: 'text-teal-400',    iconBg: 'bg-teal-400/10 dark:bg-teal-400/[0.08]',    borderHover: 'group-hover:border-teal-400/30 dark:group-hover:border-teal-400/20' },
  emerald: { text: 'text-emerald-400', iconBg: 'bg-emerald-400/10 dark:bg-emerald-400/[0.08]', borderHover: 'group-hover:border-emerald-400/30 dark:group-hover:border-emerald-400/20' },
  pink:    { text: 'text-pink-400',    iconBg: 'bg-pink-400/10 dark:bg-pink-400/[0.08]',    borderHover: 'group-hover:border-pink-400/30 dark:group-hover:border-pink-400/20' },
  amber:   { text: 'text-amber-400',   iconBg: 'bg-amber-400/10 dark:bg-amber-400/[0.08]',   borderHover: 'group-hover:border-amber-400/30 dark:group-hover:border-amber-400/20' },
  rose:    { text: 'text-rose-400',    iconBg: 'bg-rose-400/10 dark:bg-rose-400/[0.08]',    borderHover: 'group-hover:border-rose-400/30 dark:group-hover:border-rose-400/20' },
};
---

<BaseLayout title={title} description={description}>
  <Header slot="header" />

  <div class="relative overflow-x-clip">
    <!-- Ambient glow -->
    <div class="pointer-events-none absolute inset-0" aria-hidden="true">
      <div class="absolute -top-40 -left-40 w-[600px] h-[600px] rounded-full bg-primary/15 blur-[160px] dark:bg-primary/[0.07]"></div>
      <div class="absolute top-[40%] right-[5%] w-[400px] h-[400px] rounded-full bg-indigo-300/10 blur-[130px] dark:bg-indigo-400/[0.05]"></div>
      <div class="absolute top-[70%] left-[20%] w-[450px] h-[450px] rounded-full bg-secondary/10 blur-[140px] dark:bg-secondary/[0.05]"></div>
    </div>

    <!-- Hero -->
    <section class="pt-16 sm:pt-24 pb-12 sm:pb-16">
      <div class="container-wide">
        <div class="max-w-2xl mx-auto text-center">
          <h1 class="font-heading font-bold text-3xl sm:text-4xl md:text-5xl text-foreground dark:text-white mb-4 reveal">
            Use Cases
          </h1>
          <p class="text-lg text-foreground/60 dark:text-neutral-400 leading-relaxed reveal reveal-delay-1">
            See how Viewpo fits your workflow. From indie hackers to agency teams — preview any deploy at any resolution, from any device.
          </p>
        </div>
      </div>
    </section>

    <!-- Who It's For -->
    <section class="pb-16 sm:pb-20">
      <div class="container-wide">
        <div class="mb-8 reveal">
          <Badge variant="default">Who It's For</Badge>
          <h2 class="font-heading font-bold text-2xl md:text-3xl text-foreground dark:text-white mt-3">
            Built for your role
          </h2>
          <p class="text-foreground/60 dark:text-neutral-400 mt-2 max-w-xl">
            Whether you're a solo founder or leading a team, Viewpo fits how you work.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5">
          {PERSONA_USE_CASES.map((uc) => {
            const a = accentMap[uc.accentColour] ?? accentMap.cyan;
            return (
              <a
                href={`/use-cases/${uc.slug}/`}
                class={`group relative block rounded-2xl border border-neutral-200 dark:border-neutral-700/50 bg-white/50 dark:bg-neutral-900/40 backdrop-blur-sm p-6 transition-all duration-300 hover:shadow-lg hover:bg-white/70 dark:hover:bg-neutral-900/60 hover:scale-[1.01] ${a.borderHover} reveal reveal-delay-1`}
              >
                <!-- Icon -->
                <div class={`w-10 h-10 rounded-xl ${a.iconBg} flex items-center justify-center mb-4`}>
                  <svg class={`w-5 h-5 ${a.text}`} fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <Fragment set:html={uc.icon} />
                  </svg>
                </div>

                <!-- Title -->
                <h3 class="font-heading font-bold text-base text-foreground dark:text-white mb-1">
                  {uc.title}
                </h3>

                <!-- Subtitle -->
                <p class="text-sm text-foreground/50 dark:text-neutral-500 mb-3">
                  {uc.subtitle}
                </p>

                <!-- Hook (first pain paragraph, truncated) -->
                <p class="text-sm text-foreground/60 dark:text-white/50 leading-relaxed line-clamp-2">
                  {uc.painContent[0]}
                </p>

                <!-- Arrow -->
                <svg class="absolute top-6 right-6 w-4 h-4 text-foreground/20 dark:text-white/20 transition-all duration-300 group-hover:text-foreground/40 dark:group-hover:text-white/40 group-hover:translate-x-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </a>
            );
          })}
        </div>
      </div>
    </section>

    <!-- When You Need It -->
    <section class="pb-20 sm:pb-28">
      <div class="container-wide">
        <div class="mb-8 reveal">
          <Badge variant="secondary">When You Need It</Badge>
          <h2 class="font-heading font-bold text-2xl md:text-3xl text-foreground dark:text-white mt-3">
            Real situations. Real workflows.
          </h2>
          <p class="text-foreground/60 dark:text-neutral-400 mt-2 max-w-xl">
            Six scenarios where Viewpo saves you time, stress, and a trip back to your laptop.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-5 max-w-4xl">
          {SITUATION_USE_CASES.map((uc) => {
            const a = accentMap[uc.accentColour] ?? accentMap.cyan;
            return (
              <a
                href={`/use-cases/${uc.slug}/`}
                class={`group relative block rounded-2xl border border-neutral-200 dark:border-neutral-700/50 bg-white/50 dark:bg-neutral-900/40 backdrop-blur-sm p-6 transition-all duration-300 hover:shadow-lg hover:bg-white/70 dark:hover:bg-neutral-900/60 hover:scale-[1.01] ${a.borderHover} reveal reveal-delay-1`}
              >
                <!-- Icon -->
                <div class={`w-10 h-10 rounded-xl ${a.iconBg} flex items-center justify-center mb-4`}>
                  <svg class={`w-5 h-5 ${a.text}`} fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <Fragment set:html={uc.icon} />
                  </svg>
                </div>

                <!-- Title -->
                <h3 class="font-heading font-bold text-base text-foreground dark:text-white mb-2">
                  {uc.title}
                </h3>

                <!-- Hook -->
                <p class="text-sm text-foreground/60 dark:text-white/50 leading-relaxed line-clamp-2">
                  {uc.painContent[0]}
                </p>

                <!-- Arrow -->
                <svg class="absolute top-6 right-6 w-4 h-4 text-foreground/20 dark:text-white/20 transition-all duration-300 group-hover:text-foreground/40 dark:group-hover:text-white/40 group-hover:translate-x-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </a>
            );
          })}
        </div>
      </div>
    </section>
  </div>

  <Footer slot="footer" />
</BaseLayout>

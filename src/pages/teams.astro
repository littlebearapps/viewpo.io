---
import BaseLayout from '@layouts/BaseLayout.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';
import Section from '@components/Section.astro';
import FeatureCard from '@components/FeatureCard.astro';
import Button from '@components/Button.astro';
import PricingTable from '@components/PricingTable.astro';

const useCases = [
  {
    title: 'Agencies managing client sites',
    description: 'One client on Cloudflare, another on Vercel, a third on Netlify. Viewpo puts every project in one dashboard — no more logging into three different provider portals to find a preview link.',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3H21m-3.75 3H21" />`,
  },
  {
    title: 'Design-to-dev handoff',
    description: 'Designers check the live preview at every breakpoint — desktop, tablet, and phone — without installing dev tools. Share a link, get feedback on the look and feel, and iterate faster.',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />`,
  },
  {
    title: 'Stakeholder and client approvals',
    description: 'Send a preview link or QR code to a client who has never heard of Cloudflare Pages. They see the real site at every screen size and give the go-ahead — no dashboard login required.',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.745 3.745 0 011.043 3.296A3.745 3.745 0 0121 12z" />`,
  },
];

const teamFaqItems = [
  {
    question: 'Can clients view previews without a Viewpo account?',
    answer: 'Yes. On Starter and Pro plans, you can generate shareable links and QR codes for any preview. Anyone with the link can view the site at different screen sizes — no account or provider login needed.',
  },
  {
    question: 'How many team members can I add?',
    answer: 'The Pro plan supports team workspaces with up to 10 members. Each member gets access to shared projects and can view, compare, and leave feedback on previews.',
  },
  {
    question: 'Do team members need their own provider accounts?',
    answer: 'No. Only the person who connects a provider account needs credentials. Team members see all the projects shared with the workspace without needing their own Cloudflare, GitHub, Vercel, or Netlify account.',
  },
  {
    question: 'Can I organise projects by client?',
    answer: 'Yes. Pro plan workspaces let you group projects however you like — by client, by team, or by provider. Each workspace is separate, so client projects stay organised.',
  },
  {
    question: 'What does "Latest for this branch" mean?',
    answer: 'When you share a "latest for this branch" link, it always shows the newest version that has been deployed on that branch. The link stays the same even as new changes land — so your team always sees the freshest preview without you having to send a new link each time.',
  },
];
---

<BaseLayout
  title="Viewpo for Teams — Review Deploys Together"
  description="Your whole team can see every preview — without sharing dashboard logins. Shareable links, QR codes, team workspaces, and feedback on look and feel."
>
  <Header slot="header" />

  <!-- Hero -->
  <section class="relative overflow-hidden py-20 md:py-32">
    <div class="container-wide">
      <div class="max-w-3xl mx-auto text-center">
        <div class="hero-entrance inline-flex items-center gap-2 bg-primary/10 text-primary dark:text-indigo-300 text-sm font-medium px-4 py-1.5 rounded-full mb-8">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z" />
          </svg>
          For Teams &amp; Agencies
        </div>

        <h1 class="hero-entrance hero-entrance-delay-1 font-heading font-bold text-4xl md:text-5xl lg:text-6xl leading-tight tracking-tight mb-6">
          Review deploys
          <span class="gradient-text-primary">together.</span>
        </h1>

        <p class="hero-entrance hero-entrance-delay-2 text-lg md:text-xl text-foreground/60 max-w-2xl mx-auto mb-10 leading-relaxed">
          Your whole team can see every preview — without sharing dashboard logins. Designers, PMs, clients, and stakeholders check the look and feel at any screen size, and give feedback before it goes live.
        </p>

        <div class="hero-entrance hero-entrance-delay-3 flex flex-col sm:flex-row items-center justify-center gap-4">
          <Button href="/#cta" size="lg" icon="arrow" class="plausible-event-name=Teams+CTA+Join+Beta">
            Start Your Team on Viewpo
          </Button>
          <Button href="/#pricing" variant="outline" size="lg">
            See Pricing
          </Button>
        </div>
      </div>
    </div>
  </section>

  <!-- Problem -->
  <Section background="muted">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="font-heading font-bold text-3xl md:text-4xl mb-6 reveal">
        The review process is broken
      </h2>
      <p class="text-foreground/60 text-lg leading-relaxed mb-6 reveal reveal-delay-1">
        Preview links get buried in Slack threads. Clients can't access provider dashboards. Designers resize their browser and hope for the best. Nobody's sure which version they're looking at.
      </p>
      <p class="text-foreground/60 text-lg leading-relaxed mb-8 reveal reveal-delay-2">
        Meanwhile, the developer who deployed it is the only person who can actually find and share the right link. That bottleneck slows everyone down.
      </p>
      <div class="reveal reveal-delay-3 flex items-center justify-center gap-4">
        <div class="h-px w-12 bg-primary/30"></div>
        <p class="text-primary dark:text-indigo-300 font-heading font-semibold text-lg">
          There's a better way
        </p>
        <div class="h-px w-12 bg-primary/30"></div>
      </div>
    </div>
  </Section>

  <!-- Team Features -->
  <Section>
    <div class="text-center mb-16">
      <h2 class="font-heading font-bold text-3xl md:text-4xl mb-4 reveal">
        Give your whole team eyes on every preview
      </h2>
      <p class="text-foreground/60 text-lg max-w-2xl mx-auto reveal reveal-delay-1">
        Share previews instantly, get feedback from anyone, and keep every project organised — across all your hosting providers.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
      <div class="reveal reveal-delay-1">
        <FeatureCard
          icon="share"
          title="Shareable Preview Links & QR Codes"
          description="Generate a link or QR code for any preview. Drop it in Slack, email it to a client, or show it in a meeting. Anyone with the link can view the site at any screen size — no login needed."
        />
      </div>
      <div class="reveal reveal-delay-2">
        <FeatureCard
          icon="team"
          title="Team Workspaces"
          description="Organise projects by client, team, or however makes sense. Each workspace has shared access and roles, so everyone sees the right projects without digging through dashboards."
        />
      </div>
      <div class="reveal reveal-delay-3">
        <FeatureCard
          icon="notification"
          title="Always-Fresh Preview Links"
          description="Share a 'latest for this branch' link that always shows the newest version. Your team always sees the freshest preview — no need to send a new link after every deploy."
        />
      </div>
      <div class="reveal reveal-delay-4">
        <FeatureCard
          icon="viewport"
          title="Feedback on Look and Feel"
          description="Team members check the preview at desktop, tablet, and phone sizes — then give feedback on the look and feel directly within the preview context. No dev tools required."
        />
      </div>
    </div>
  </Section>

  <!-- Use Cases -->
  <Section background="muted">
    <div class="text-center mb-16">
      <h2 class="font-heading font-bold text-3xl md:text-4xl mb-4 reveal">
        Built for how teams actually work
      </h2>
    </div>

    <div class="grid md:grid-cols-3 gap-8 md:gap-12 max-w-5xl mx-auto">
      {useCases.map((useCase, i) => (
        <div class={`reveal reveal-delay-${i + 1} text-center`}>
          <div class="w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <Fragment set:html={useCase.icon} />
            </svg>
          </div>
          <h3 class="font-heading font-semibold text-xl mb-3">{useCase.title}</h3>
          <p class="text-foreground/60 leading-relaxed">{useCase.description}</p>
        </div>
      ))}
    </div>
  </Section>

  <!-- Pricing -->
  <PricingTable />

  <!-- FAQ -->
  <Section id="teams-faq" background="muted">
    <div class="text-center mb-16">
      <h2 class="font-heading font-bold text-3xl md:text-4xl mb-4 reveal">Team Questions</h2>
      <p class="text-foreground/60 text-lg max-w-2xl mx-auto reveal reveal-delay-1">
        Common questions about using Viewpo with your team.
      </p>
    </div>

    <div class="max-w-3xl mx-auto space-y-3">
      {teamFaqItems.map((item, i) => (
        <details class={`accordion-item reveal reveal-delay-${Math.min(i + 1, 4)} group rounded-xl border border-foreground/10 dark:border-white/10 bg-white dark:bg-slate-800/50 overflow-hidden`}>
          <summary class="flex items-center justify-between gap-4 p-5 cursor-pointer select-none list-none font-heading font-semibold text-base hover:bg-foreground/[0.02] dark:hover:bg-white/[0.02] transition-colors">
            {item.question}
            <svg class="w-5 h-5 text-foreground/40 flex-shrink-0 transition-transform duration-200 group-open:rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
            </svg>
          </summary>
          <div class="accordion-content px-5 pb-5 text-foreground/60 leading-relaxed">
            {item.answer}
          </div>
        </details>
      ))}
    </div>
  </Section>

  <!-- FAQPage JSON-LD -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": teamFaqItems.map((item) => ({
      "@type": "Question",
      "name": item.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": item.answer,
      },
    })),
  })} />

  <!-- Final CTA -->
  <Section id="teams-cta" padding="lg">
    <div class="max-w-2xl mx-auto text-center reveal">
      <h2 class="font-heading font-bold text-3xl md:text-4xl mb-4">
        Start your team on Viewpo
      </h2>
      <p class="text-foreground/60 text-lg mb-8 leading-relaxed">
        Viewpo is coming soon. Join the beta to try team features early, or sign up to be notified when it launches.
      </p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <Button href="/#cta" size="lg" icon="arrow" class="plausible-event-name=Teams+CTA+Join+Beta+Bottom">
          Join the Beta
        </Button>
        <Button href="/" variant="ghost" size="lg">
          Back to Homepage
        </Button>
      </div>
    </div>
  </Section>

  <Footer slot="footer" />
</BaseLayout>
